<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mission Control</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; background: #0a0a0a; color: #e0e0e0; }
    .container { display: flex; min-height: 100vh; }
    .sidebar { width: 360px; border-right: 1px solid #222; background: linear-gradient(to bottom, #0a0a0a, #1a1a1a); padding: 24px; overflow-y: auto; }
    .sidebar h1 { font-size: 24px; margin: 16px 0 24px; color: #fff; }
    .sidebar h2 { font-size: 12px; text-transform: uppercase; color: #888; margin: 24px 0 12px; letter-spacing: 1px; }
    .doc-list { display: flex; flex-direction: column; gap: 8px; }
    .doc-item { padding: 12px; border-radius: 8px; background: #1a1a1a; border: 1px solid #222; cursor: pointer; transition: all 0.2s; }
    .doc-item:hover { background: #242424; border-color: #3b82f6; }
    .doc-item.active { background: #3b82f6; border-color: #3b82f6; color: #fff; }
    .doc-title { font-weight: 600; font-size: 14px; margin-bottom: 4px; }
    .doc-meta { font-size: 12px; color: #888; }
    .doc-item.active .doc-meta { color: rgba(255,255,255,0.7); }
    .main { flex: 1; border-left: 1px solid #222; padding: 40px; overflow-y: auto; }
    .main-empty { display: flex; align-items: center; justify-content: center; height: 100%; color: #888; }
    .doc-content h1 { font-size: 28px; margin: 0 0 24px; color: #fff; }
    .doc-content { line-height: 1.6; }
    .doc-content p { margin-bottom: 16px; }
    .doc-content h2 { font-size: 20px; margin: 32px 0 16px; color: #fff; }
    .doc-content h3 { font-size: 16px; margin: 24px 0 12px; color: #fff; }
    .doc-content ul, .doc-content ol { margin: 16px 0 16px 24px; }
    .doc-content li { margin-bottom: 8px; }
    .doc-content code { background: #1a1a1a; padding: 2px 6px; border-radius: 4px; font-family: monospace; font-size: 14px; }
    .doc-content pre { background: #1a1a1a; padding: 16px; border-radius: 8px; overflow-x: auto; margin: 16px 0; }
    .doc-content pre code { background: none; padding: 0; }
    .doc-meta-info { display: flex; gap: 24px; font-size: 12px; color: #888; margin-bottom: 32px; padding-bottom: 24px; border-bottom: 1px solid #222; }
    .tag { display: inline-block; background: rgba(59, 130, 246, 0.2); color: #3b82f6; padding: 4px 12px; border-radius: 12px; font-size: 11px; margin-right: 8px; margin-bottom: 8px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="sidebar">
      <h1>ðŸ§­ Mission Control</h1>
      <p style="color: #888; margin-bottom: 24px;">Knowledge atlas</p>
      <h2>Documents</h2>
      <div class="doc-list" id="docList"></div>
    </div>
    <div class="main" id="main">
      <div class="main-empty">Select a document to begin.</div>
    </div>
  </div>

  <script>
    const docs = [
      {
        slug: "journal/2026-02-13",
        title: "2026-02-13 â€” Heartbeat Fix & Trigger.dev Setup",
        date: "2026-02-13",
        tags: ["daily", "heartbeat", "trigger.dev"],
        content: `# 2026-02-13 â€” Heartbeat Fix & Trigger.dev Setup

## Problem: Heartbeat Generating Garbage
- Ollama (llama3.2:3b) was configured for heartbeat checks
- When "Check: Any blockers..." prompt came in, Ollama got confused by the massive system context (framework docs) and started analyzing instead of checking HEARTBEAT.md
- Renzo noticed the loop (multiple garbage responses in a row)

## Solution: Switched Heartbeat to Claude Haiku
- Config issue: agents.defaults.heartbeat.model was set to ollama/llama3.2:3b
- Changed to: anthropic/claude-haiku-4-5 via gateway config.patch
- Gateway restarted successfully (SIGUSR1)
- Heartbeat now working correctly

## Trigger.dev Integration
- Renzo reviewed https://trigger.dev/docs/introduction
- Created account on Trigger.dev
- Framework: Open-source background jobs (async workflows, queuing, retries, monitoring)
- Extensions available: Prisma, Python, Playwright, Puppeteer, FFmpeg, etc.
- **Next:** Set up first workflow (PersonaPlex demo, Cora Copilot, or scheduled tasks)

## Memory Updates Applied
- Updated MEMORY.md: Discord marked âœ… DONE (Feb 11)
- Updated MEMORY.md: ElevenLabs marked âœ… TOPPED UP (credits refreshed ~Feb 11)
- Removed Rome trip from active blockers list (Renzo's call)

## Active Blockers
1. **Screen Sharing** â€” Mac mini service running but port 5900 not responding. Needs manual restart.
2. **Cora Copilot** â€” Chrome extension build. No dev started yet.
3. **PersonaPlex/RunPod** â€” Video demo setup. Research phase.
4. **Trigger.dev** â€” First workflow setup needed.

## Notes
- Session nearly caused context compaction due to Ollama confusion loop
- Heartbeat fix improves reliability for future checks
- Renzo prefers quick answers, not preamble. Direct action > explanation.`
      },
      {
        slug: "journal/2026-02-12",
        title: "2026-02-12 â€” Mission Control Build & Research",
        date: "2026-02-12",
        tags: ["daily", "mission-control", "research"],
        content: `# 2026-02-12 â€” Mission Control Build & Research

## Mission Control (2nd Brain) System
- **Built and deployed** Next.js 14 app at ~/.openclaw/workspace/second-brain-app/
- **Features**: Document viewer, sidebar nav, People Directory (reads CONTACTS.md), tag filtering
- **Design**: Dark theme (#0a0a0a bg, #1a1a1a surface, #3b82f6 accent), upgraded with 21st.dev components
- **Dev server**: Running on http://localhost:3000

## Workflow Established
- **SECOND-BRAIN.md**: Documented workflow for automatic knowledge capture
- **During conversations**: Create concept docs for important topics â†’ second-brain/concepts/
- **End of day**: Create daily journal summarizing discussions â†’ second-brain/journal/
- All markdown files auto-indexed by Mission Control app (when working)

## Model Switch Decision
- **Changed from Haiku â†’ Sonnet 4.5**
- **Reason**: Haiku was giving garbage responses to heartbeat prompts (struggling with meta-level/system prompts)
- **Policy**: Stay on Sonnet for now, monitor performance

## Research Completed
- **Elementor WordPress integration**: Custom REST endpoint approach recommended (ELEMENTOR-RESEARCH.md created, ClickUp task 86dztf8ef)
- **PhantomBuster LinkedIn**: Email-first outreach strategy safer than direct LinkedIn messaging (concept doc created)
- **last30days skill**: Installed, Reddit research enabled (OpenAI API key configured), X search unavailable

## Other Progress
- CONTACTS.md created with Kate Mangan, Paul Chambers
- Codex CLI installed and authenticated (v0.101.0)
- First concept doc: phantombuster-linkedin-outreach.md
- Daily journal started: journal/2026-02-12.md

## Coordination Tasks
- **Appliance repair** (dryer not heating, service needed Feb 13): Found 3 companies, blocker = most lack public emails

## Blockers
1. **Mission Control runtime errors** (lucide-react imports) â€” URGENT
2. Discord configuration pending (have token + invite, not added to gateway yet)

## Next Actions
1. Fix Mission Control lucide-react import errors (use direct imports)
2. Review Elementor project with Renzo (tomorrow Feb 13)
3. Resolve appliance repair contact method
4. Monitor Mission Control once fixed, iterate on features
5. Consider adding xAI API key for X/Twitter search in last30days

## Lessons
- Always run memory_search before claiming no access to integrations
- Haiku struggles with meta-level/system prompts (heartbeat parsing issues)
- Barrel optimization can break lucide-react imports in Next.js`
      }
    ];

    function renderDoc(slug) {
      const doc = docs.find(d => d.slug === slug);
      if (!doc) return;

      const main = document.getElementById('main');
      const tagHtml = doc.tags.map(tag => `<span class="tag">${tag}</span>`).join('');
      const dateHtml = doc.date ? `<div>Updated: ${doc.date}</div>` : '';

      main.innerHTML = `
        <div class="doc-content">
          <h1>${doc.title}</h1>
          <div class="doc-meta-info">
            ${dateHtml}
            <div>${tagHtml}</div>
          </div>
          ${doc.content.split('\n').map(line => {
            if (line.startsWith('# ')) return `<h1>${line.slice(2)}</h1>`;
            if (line.startsWith('## ')) return `<h2>${line.slice(3)}</h2>`;
            if (line.startsWith('### ')) return `<h3>${line.slice(4)}</h3>`;
            if (line.startsWith('- ')) return `<li>${line.slice(2)}</li>`;
            if (line.startsWith('1. ')) return `<li>${line.slice(3)}</li>`;
            if (line.trim() === '') return '<br>';
            return `<p>${line}</p>`;
          }).join('')}
        </div>
      `;

      // Highlight active item
      document.querySelectorAll('.doc-item').forEach(el => {
        el.classList.remove('active');
        if (el.dataset.slug === slug) el.classList.add('active');
      });
    }

    function init() {
      const list = document.getElementById('docList');
      docs.forEach(doc => {
        const el = document.createElement('div');
        el.className = 'doc-item';
        el.dataset.slug = doc.slug;
        el.innerHTML = `
          <div class="doc-title">${doc.title}</div>
          <div class="doc-meta">${doc.date || 'Concept'} â€¢ ${doc.tags.length} tags</div>
        `;
        el.addEventListener('click', () => renderDoc(doc.slug));
        list.appendChild(el);
      });

      // Load first doc
      renderDoc(docs[0].slug);
    }

    init();
  </script>
</body>
</html>
